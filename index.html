<!DOCTYPE html>
	<html>
	<body>
		<script type="module" >
		document.body.style.backgroundColor = "DimGray";
		//Constants Definition
		const BOARD_HEIGHT = 5;
		const BOARD_WIDTH  = 10;
		const PLAYER1_COLOR= "MediumSlateBlue";
		
		const SHOT  = "-->";
		//End Constants 
		var board = document.createElement("table");
		var curPosition = [2, 1];
		var focusPosition = [2, 1];
		var username = prompt("Enter 3 Letter Username");
		username = username.substr(0, 3);
		function drawBoard(){
			board = document.createElement("table");				
			board.setAttribute("border", 1);
			board.setAttribute("cellPadding", 5);
			board.setAttribute("table-layout", "fixed");
			let body = document.createElement("tbody");
			for(let i = 0; i < BOARD_HEIGHT; i++){
				let row = document.createElement("tr");
				for(let j = 0; j < BOARD_WIDTH; j++){
					let cell = document.createElement("td");
					let cellData;
					if(i === curPosition[0] && j === curPosition[1])
						cellData = document.createTextNode("_" + username + "_");
					else
						cellData = document.createTextNode("_____");
					cell.appendChild(cellData);
					row.appendChild(cell);
				}
				body.appendChild(row);
			}
			board.appendChild(body);
			document.body.appendChild(board);

			
			
		}
		
		function resetCurser(){
			focusPosition = [curPosition[0], curPosition[1]];
			board.rows[curPosition[0]].cells[curPosition[1]].style.backgroundColor = PLAYER1_COLOR;
			
		}
		//End of Functions
		drawBoard();
		resetCurser();
		//TODO: Create waiting on Lobby screen, not needed for testing
		document.addEventListener('keydown', function(event) {
   		 	if(event.keyCode == 87) {
				//Revert starting position to white
				board.rows[focusPosition[0]].cells[focusPosition[1]].style.backgroundColor = "White";
				//Change focusPosition
				focusPosition = [focusPosition[0] - 1, focusPosition[1]];
				//Change color of new Cell
				board.rows[focusPosition[0]].cells[focusPosition[1]].style.backgroundColor = PLAYER1_COLOR;
       		 	//'W was pressed'
    			}
  			else if(event.keyCode == 65) {
        			//Revert starting position to white
				board.rows[focusPosition[0]].cells[focusPosition[1]].style.backgroundColor = "White";
				//Change focusPosition
				focusPosition = [focusPosition[0], focusPosition[1] - 1];
				//Change color of new Cell
				board.rows[focusPosition[0]].cells[focusPosition[1]].style.backgroundColor = PLAYER1_COLOR;
			//'A was pressed'
 			}
			else if(event.keyCode == 68) {
        			//Revert starting position to white
				board.rows[focusPosition[0]].cells[focusPosition[1]].style.backgroundColor = "White";
				//Change focusPosition
				focusPosition = [focusPosition[0], focusPosition[1] + 1];
				//Change color of new Cell
				board.rows[focusPosition[0]].cells[focusPosition[1]].style.backgroundColor = PLAYER1_COLOR;
			//'D was pressed'
 			}
			else if(event.keyCode == 83) {
        		//Revert starting position to white
				board.rows[focusPosition[0]].cells[focusPosition[1]].style.backgroundColor = "White";
				//Change focusPosition
				focusPosition = [focusPosition[0] + 1, focusPosition[1]];
				//Change color of new Cell
				board.rows[focusPosition[0]].cells[focusPosition[1]].style.backgroundColor = PLAYER1_COLOR;
			//'S was pressed'
 			}
			
		});
		</script>
		
	</html>
